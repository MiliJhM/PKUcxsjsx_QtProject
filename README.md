# project功能设计文档

## 简介

2D回合制战棋rougelike游戏。游戏的主要内容为，在国际象棋的棋盘上，失去了所有其他棋子的白王自己扛起了武器，应对一波又一波的敌方棋子进攻。

## 开始界面

一个简单的开始界面，主要功能就是放一个开始按钮和难度选择按钮，或许可以加上记录玩家姓名和分数排行榜的功能。

## 游戏功能

游戏的主要场域即为国际象棋棋盘，其上有一个玩家操控的国王棋子和若干敌人棋子。

在游戏中，玩家角色（国王）可以：

- 移动。一回合可以移动一次，移动规则同正常国际象棋中国王。
- 攻击。一回合可以进行一次攻击，玩家要指定攻击方向，在攻击范围内的敌人会阵亡（或者受到伤害？）。
- 选择奖励。消灭一关的敌人后，玩家可以在弹出的两到三个可控随机选项中选择奖励，包括武器、加成和道具，以应对下一波更强大的敌人。
- 使用道具。玩家获得的道具在GUI的某一区域中展示，点击后选择施放对象即可使用。将鼠标悬浮在道具图标上即可看到该道具的效果信息。（或者点选道具后在GUI某一区域显示？）

在游戏开始时，国王拥有一定层数的护盾，在GUI中可见，每受到一次伤害护盾就减少1。如果护盾清空，国王再受到一次伤害后则游戏结束，根据消灭敌人的情况计算分数。

游戏中会有多种敌人，敌人会尝试移动接触到国王以对其造成伤害，这部分的AI会是一个比较重要的内容。

每一关的敌人计划在早期实现的过程中做成固定的，如果仍有余力改进的话可以尝试在每一关生成难度大致相同但是随机的敌人。

### 进度

1. 菜单窗口（√）
	> 主菜单类：QStartupMenuWindow
	> 
	> APIs: 对外Signals：newStarted(int difficulty), loadGame(QFile binSL)， 分别用来传递新游戏难度和存档信息（存档预计二进制读写，也可json）;  
	> 对外Slots: startupCompleted(); 后续通过在游戏窗口中传递Signal来完成关闭主菜单。
	> 未实现功能：可从游戏窗口中传递Signal来重新打开主菜单（相当于重新开始一局游戏）。

TODO:
1. 单位类
1. 游戏逻辑
1. 主游戏界面
1. 肉鸽机制
1. 操控逻辑
